<!DOCTYPE html>
<html lang="pt-BR">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <link rel="stylesheet" href="/src/css/global.css" />
  <link rel="stylesheet" href="/src/css/modelo.css" />
  <link rel="stylesheet" href="/src/css/painel.css">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@tabler/icons-webfont@2.37.0/tabler-icons.min.css" />
  <title>Dashboard Admin | Sistema de Gerenciamento</title>
</head>

<body>

  <div class="principalcontainer">
    <!-- MENU LATERAL REDESENHADO -->
    <aside class="aside">
      <div class="cont-aside">
        <h1>Painel de Controle</h1>

        <div class="flex-menu-aside">
          <i class="ti ti-layout-dashboard"></i>
          <p><a href="index.html">Início</a></p>
        </div>

        <div class="accordion">
          <div class="flex-menu-aside accordion-header">
            <i class="ti ti-shopping-cart"></i>
            <p>Produtos</p>
          </div>
          <div class="accordion-body">
            <div class="flexnormal">
              <div class="icon-circle"></div>
              <p><a href="cadastroprodutos.html">Cadastrar Produto</a></p>
            </div>
            <div class="flexnormal">
              <div class="icon-circle"></div>
              <p><a href="listadeprodutos.html">Lista de Produtos</a></p>
            </div>
          </div>
        </div>

        <!-- Categoria -->
        <div class="accordion">
          <div class="flex-menu-aside accordion-header">
            <i class="ti ti-tags"></i>
            <p>Categorias</p>
          </div>
          <div class="accordion-body">
            <div class="flexnormal">
              <div class="icon-circle"></div>
              <p><a href="cadastrocategoria.html">Cadastrar Categoria</a></p>
            </div>
            <div class="flexnormal">
              <div class="icon-circle"></div>
              <p><a href="listadecategoria.html">Lista de Categorias</a></p>
            </div>
          </div>
        </div>

        <!-- Administradores -->
        <div class="accordion">
          <div class="flex-menu-aside accordion-header active">
            <i class="ti ti-users"></i>
            <p>Administradores</p>
          </div>
          <div class="accordion-body open">
            <div class="flexnormal">
              <div class="icon-circle"></div>
              <p><a href="cadastrodeadm.html">Cadastrar</a></p>
            </div>
            <div class="flexnormal">
              <div class="icon-circle"></div>
              <p><a href="listadeadm.html">Listagem</a></p>
            </div>
          </div>
        </div>
      </div>

    </aside>


    <!-- CONTEÚDO CENTRAL REDESENHADO -->
    <section class="aside-direito">

      <!-- TOPO REDESENHADO-->
      <header id="menu">
        <div class="flex-ok">
          <i class="ti ti-menu-2" style="font-size: 24px; cursor: pointer;"></i>
          <h3 id="nome-usuario">
            Bem-vindo, <strong>Administrador</strong>
          </h3>
        </div>
        <div class="flex" style="align-items: center; gap: 20px;">
          <div class="search-container">
            <i class="ti ti-search"></i>
            <input type="text" placeholder="Pesquisar..." class="search-input">
          </div>
          <i class="ti ti-bell" style="font-size: 20px; cursor: pointer;"></i>
          <a href="src/php/logout.php" class="logout-btn">
            <i class="ti ti-logout"></i>
            <span>Sair</span>
          </a>

        </div>
      </header>

      <!-- CONTEÚDO PRINCIPAL REDESENHADO -->
      <main class="conteudo">
        <!-- Dashboard Header -->
        <div class="dashboard-header">
          <h1>Painel de Controle</h1>
          <div class="date-display">
            <i class="ti ti-calendar"></i>
            <span id="current-date">30 de Maio, 2025</span>
          </div>
        </div>

        <!-- Cards de resumo - Redesenhados -->
        <div class="dashboard-cards">
          <div class="card">
            <h2>Total de Produtos</h2>
            <h3>120</h3>
            <p>
              <i class="ti ti-arrow-up-right trend-up"></i>
              <span class="trend-up">+5% esta semana</span>
            </p>
          </div>
          <div class="card">
            <h2>Pedidos Pendentes</h2>
            <h3>32</h3>
            <p>
              <i class="ti ti-arrow-down-right trend-down"></i>
              <span class="trend-down">-2% esta semana</span>
            </p>
          </div>
          <div class="card">
            <h2>Faturamento</h2>
            <h3>R$ 12.450,00</h3>
            <p>
              <i class="ti ti-arrow-up-right trend-up"></i>
              <span class="trend-up">+12% este mês</span>
            </p>
          </div>
        </div>

        <!-- Gráfico de Vendas - Redesenhado com filtro de período -->
        <div class="grafico-container">
          <h3>
            Desempenho de Vendas
            <div class="period-selector">
              <span class="period-option">Dia</span>
              <span class="period-option active">Semana</span>
              <span class="period-option">Mês</span>
              <span class="period-option">Ano</span>
            </div>
          </h3>
          <div>
            <canvas id="graficoVendas"></canvas>
          </div>
        </div>

        <!-- Atalhos rápidos - Redesenhados com ícones -->
        <div class="atalhos">
          <h3>Ações Rápidas</h3>
          <div class="atalhos-grid">
            <button onclick="location.href='cadastroprodutos.html'" class="btn-quick">
              <i class="ti ti-plus"></i>
              <span>Novo Produto</span>
            </button>
            <button onclick="location.href='listadeprodutos.html'" class="btn-quick">
              <i class="ti ti-list"></i>
              <span>Listar Produtos</span>
            </button>
            <button onclick="location.href='cadastrodeadm.html'" class="btn-quick">
              <i class="ti ti-user-plus"></i>
              <span>Novo Administrador</span>
            </button>
            <button onclick="location.href='listadeadm.html'" class="btn-quick">
              <i class="ti ti-users"></i>
              <span>Listar Administradores</span>
            </button>
          </div>
        </div>

        <!-- Scripts -->
        <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
        <script>
          // Formatação da data atual
          const options = { year: 'numeric', month: 'long', day: 'numeric' };
          document.getElementById('current-date').textContent = new Date().toLocaleDateString('pt-BR', options);

          // Configuração do gráfico
          const ctx = document.getElementById('graficoVendas').getContext('2d');

          // Gradiente para background do gráfico
          const gradient = ctx.createLinearGradient(0, 0, 0, 400);
          gradient.addColorStop(0, 'rgba(153, 0, 255, 0.3)');
          gradient.addColorStop(0.8, 'rgba(153, 0, 255, 0.0)');

          new Chart(ctx, {
            type: 'line',
            data: {
              labels: ['Seg', 'Ter', 'Qua', 'Qui', 'Sex', 'Sáb', 'Dom'],
              datasets: [
                {
                  label: 'Vendas',
                  data: [12, 15, 19, 10, 6, 14, 20],
                  fill: true,
                  backgroundColor: gradient,
                  borderColor: '#9900ff',
                  tension: 0.4,
                  borderWidth: 3,
                  pointBackgroundColor: '#9900ff',
                  pointBorderColor: '#fff',
                  pointRadius: 4,
                  pointHoverRadius: 6,
                  pointHoverBackgroundColor: '#fff',
                  pointHoverBorderColor: '#9900ff'
                }
              ]
            },
            options: {
              responsive: true,
              maintainAspectRatio: false,
              interaction: {
                mode: 'index',
                intersect: false
              },
              plugins: {
                legend: {
                  display: false
                },
                tooltip: {
                  backgroundColor: 'rgba(17, 24, 39, 0.8)',
                  titleColor: '#fff',
                  bodyColor: '#fff',
                  borderColor: 'rgba(255, 255, 255, 0.1)',
                  borderWidth: 1,
                  padding: 10,
                  boxPadding: 5,
                  usePointStyle: true,
                  callbacks: {
                    title: function (context) {
                      return 'Dia: ' + context[0].label;
                    },
                    label: function (context) {
                      return 'Vendas: R$ ' + context.parsed.y * 100;
                    }
                  }
                }
              },
              scales: {
                x: {
                  grid: {
                    display: false
                  },
                  ticks: {
                    color: 'rgba(255, 255, 255, 0.7)',
                    font: {
                      size: 11
                    }
                  }
                },
                y: {
                  grid: {
                    color: 'rgba(255, 255, 255, 0.05)',
                    drawBorder: false
                  },
                  ticks: {
                    color: 'rgba(255, 255, 255, 0.7)',
                    font: {
                      size: 11
                    },
                    callback: function (value) {
                      return 'R$ ' + value * 100;
                    }
                  }
                }
              }
            }
          });

          // Interação do menu accordion
          document.addEventListener('DOMContentLoaded', () => {
            const accordionHeaders = document.querySelectorAll('.accordion-header');

            accordionHeaders.forEach(header => {
              header.addEventListener('click', () => {
                const body = header.nextElementSibling;
                header.classList.toggle('active');
                body.classList.toggle('open');
              });
            });

            // Seletor de período do gráfico
            const periodOptions = document.querySelectorAll('.period-option');
            periodOptions.forEach(option => {
              option.addEventListener('click', () => {
                periodOptions.forEach(o => o.classList.remove('active'));
                option.classList.add('active');
              });
            });
          });
        </script>
        <script src="src/javascript/usuariologado.js"></script>
      </main>
    </section>
  </div>
</body>

</html>